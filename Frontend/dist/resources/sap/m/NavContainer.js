/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./library","sap/ui/core/Control","sap/ui/core/RenderManager","sap/ui/Device","./NavContainerRenderer","sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/dom/jquery/Focusable"],function(e,t,i,a,n,jQuery,s){"use strict";var o=t.extend("sap.m.NavContainer",{metadata:{interfaces:["sap.ui.core.IPlaceholderSupport"],library:"sap.m",properties:{autoFocus:{type:"boolean",group:"Behavior",defaultValue:true},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},visible:{type:"boolean",group:"Appearance",defaultValue:true},defaultTransitionName:{type:"string",group:"Appearance",defaultValue:"slide"}},defaultAggregation:"pages",aggregations:{pages:{type:"sap.ui.core.Control",multiple:true,singularName:"page"}},associations:{initialPage:{type:"sap.ui.core.Control",multiple:false}},events:{navigate:{allowPreventDefault:true,parameters:{from:{type:"sap.ui.core.Control"},fromId:{type:"string"},to:{type:"sap.ui.core.Control"},toId:{type:"string"},firstTime:{type:"boolean"},isTo:{type:"boolean"},isBack:{type:"boolean"},isBackToTop:{type:"boolean"},isBackToPage:{type:"boolean"},direction:{type:"string"}}},afterNavigate:{parameters:{from:{type:"sap.ui.core.Control"},fromId:{type:"string"},to:{type:"sap.ui.core.Control"},toId:{type:"string"},firstTime:{type:"boolean"},isTo:{type:"boolean"},isBack:{type:"boolean"},isBackToTop:{type:"boolean"},isBackToPage:{type:"boolean"},direction:{type:"string"}}}}}});var r={onAfterRendering:function(){if(this._placeholder){this._placeholder.show(this)}}};var l=sap.ui.getCore().getConfiguration().getAnimation(),d=function(e){return l?e:0},p=function(e){return!!(e&&e.getParent())},g=function(e,t){if(p(e)){e.$().css({"-webkit-animation-direction":t,"animation-direction":t})}};o.TransitionDirection={BACK:"back",TO:"to"};o.prototype.init=function(){this._pageStack=[];this._aQueue=[];this._mVisitedPages={};this._mFocusObject={};this._iTransitionsCompleted=0;this._bNeverRendered=true;this._bNavigating=false;this._bRenderingInProgress=false};o.prototype.exit=function(){this._mFocusObject=null};o.prototype.onBeforeRendering=function(){var e=this.getCurrentPage();if(this._bNeverRendered&&e){var t=e.getId();if(!this._mVisitedPages[t]){this._mVisitedPages[t]=true;var i={from:null,fromId:null,to:e,toId:t,firstTime:true,isTo:false,isBack:false,isBackToPage:false,isBackToTop:false,direction:"initial"};var a=jQuery.Event("BeforeFirstShow",i);a.srcControl=this;a.data=this._oToDataBeforeRendering||{};a.backData={};e._handleEvent(a);a=jQuery.Event("BeforeShow",i);a.srcControl=this;a.data=this._oToDataBeforeRendering||{};a.backData={};e._handleEvent(a)}}};o.prototype.onAfterRendering=function(){var e=this.getCurrentPage(),t,i,a,n;if(this._bNeverRendered&&e){this._bNeverRendered=false;delete this._bNeverRendered;a=e.getId();if(!this._isInsideAPopup()&&this.getAutoFocus()){t=o._applyAutoFocusTo(a);if(t){this._mFocusObject[a]=t}}i={from:null,fromId:null,to:e,toId:a,firstTime:true,isTo:false,isBack:false,isBackToTop:false,isBackToPage:false,direction:"initial"};n=jQuery.Event("AfterShow",i);n.srcControl=this;n.data=this._oToDataBeforeRendering||{};n.backData={};e._handleEvent(n)}};o.prototype._getActualInitialPage=function(){var e=this.getInitialPage();if(e){var t=sap.ui.getCore().byId(e);if(t){return t}else{s.error("NavContainer: control with ID '"+e+"' was set as 'initialPage' but was not found as a DIRECT child of this NavContainer (number of current children: "+this.getPages().length+").")}}var i=this.getPages();return i.length>0?i[0]:null};o.prototype.getPage=function(e){var t=this.getPages();for(var i=0;i<t.length;i++){if(t[i]&&t[i].getId()==e){return t[i]}}return null};o.prototype._ensurePageStackInitialized=function(e){if(this._pageStack.length===0){var t=this._getActualInitialPage();if(t){this._pageStack.push({id:t.getId(),isInitial:true,data:e||{}})}}return this._pageStack};o.prototype.getCurrentPage=function(){var e=this._ensurePageStackInitialized();if(e.length>=1){return this.getPage(e[e.length-1].id)}else{s.warning(this+": page stack is empty but should have been initialized - application failed to provide a page to display");return undefined}};o.prototype.getPreviousPage=function(){var e=this._ensurePageStackInitialized();if(e.length>1){return this.getPage(e[e.length-2].id)}else if(e.length==1){return undefined}else{s.warning(this+": page stack is empty but should have been initialized - application failed to provide a page to display")}};o.prototype.currentPageIsTopPage=function(){var e=this._ensurePageStackInitialized();return e.length===1};o.prototype.insertPreviousPage=function(e,t,i){var a=this._ensurePageStackInitialized();if(this._pageStack.length>0){var n=a.length-1;var o={id:e,transition:t,data:i};if(n===0){o.isInitial=true;delete a[a.length-1].isInitial}a.splice(n,0,o)}else{s.warning(this+": insertPreviousPage called with empty page stack; ignoring")}return this};o._applyAutoFocusTo=function(e){var t=jQuery(document.getElementById(e)).firstFocusableDomRef();if(t){t.focus()}return t};o.prototype._applyAutoFocus=function(e){var t=e.toId,i,a=e.isBack||e.isBackToPage||e.isBackToTop;if(!e.bFocusInsideFromPage){return}if(a){i=this._mFocusObject!=null?this._mFocusObject[t]:null;if(i){i.focus()}else{o._applyAutoFocusTo(t)}}else if(e.isTo){o._applyAutoFocusTo(t)}};o.prototype._afterNavigation=function(e,t,i){var a=jQuery.Event("AfterShow",e);a.data=t||{};a.backData=i||{};a.srcControl=this;e.to._handleEvent(a);a=jQuery.Event("AfterHide",e);a.srcControl=this;e.from._handleEvent(a);if(this.getAutoFocus()){this._applyAutoFocus(e)}this.fireAfterNavigate(e);this._dequeueNavigation()};o.prototype._afterTransitionCallback=function(e,t,i){this._iTransitionsCompleted++;this._bNavigating=false;this._afterNavigation(e,t,i);s.info(this+": _afterTransitionCallback called, to: "+e.toId);if(e.to.hasStyleClass("sapMNavItemHidden")){s.warning(this.toString()+": target page '"+e.toId+"' still has CSS class 'sapMNavItemHidden' after transition. This should not be the case, please check the preceding log statements.");e.to.removeStyleClass("sapMNavItemHidden")}};o.prototype._dequeueNavigation=function(){var e=this._aQueue.shift();if(typeof e==="function"){e()}};o.prototype._isInPageStack=function(e){return this._pageStack.some(function(t){return t.id===e})};o.prototype._safeBackToPage=function(e,t,i,a){var n;if(!this.getPage(e)){return this}n=this.getCurrentPage();if(n&&n.getId()===e){return this}if(this._isInPageStack(e)){return this.backToPage(e,i,a)}else{i=i||{};i.safeBackToPage=true;return this.to(e,t,i,a)}};o.prototype._isFocusInControl=function(e){return jQuery(document.activeElement).closest(e.$()).length>0};o.prototype.to=function(a,n,r,l,p){if(a instanceof t){a=a.getId()}if(typeof n!=="string"){l=r;r=n}n=n||this.getDefaultTransitionName();l=l||{};r=r||{};var g={id:a,transition:n,data:r};this._ensurePageStackInitialized(r);if(this._bNavigating){s.info(this.toString()+": Cannot navigate to page "+a+" because another navigation is already in progress. - navigation will be executed after the previous one");this._aQueue.push(jQuery.proxy(function(){this.to(a,n,r,l,true)},this));return this}if(this._bNeverRendered){this._oToDataBeforeRendering=r}var u=this.getCurrentPage();if(u&&u.getId()===a){s.warning(this.toString()+": Cannot navigate to page "+a+" because this is the current page.");if(p){this._dequeueNavigation()}if(this._pageStack.length===1){this._pageStack[0].transition=g.transition}return this}var f=this.getPage(a);if(f){if(!u){s.warning("Navigation triggered to page with ID '"+a+"', but the current page is not known/aggregated by "+this);return this}var h={from:u,fromId:u.getId(),to:f,toId:a,firstTime:!this._mVisitedPages[a],isTo:true,isBack:false,isBackToTop:false,isBackToPage:false,direction:"to",bFocusInsideFromPage:this._isFocusInControl(u)};if(h.bFocusInsideFromPage){this._mFocusObject[u.getId()]=document.activeElement}var c=this.fireNavigate(h);if(c){e.closeKeyboard();var v=jQuery.Event("BeforeHide",h);v.srcControl=this;u._handleEvent(v);if(!this._mVisitedPages[a]){v=jQuery.Event("BeforeFirstShow",h);v.srcControl=this;v.data=r||{};v.backData={};f._handleEvent(v)}v=jQuery.Event("BeforeShow",h);v.srcControl=this;v.data=r||{};v.backData={};f._handleEvent(v);this._pageStack.push(g);s.info(this.toString()+": navigating to page '"+a+"': "+f.toString());this._mVisitedPages[a]=true;if(!this.getDomRef()){s.info("'Hidden' 'to' navigation in not-rendered NavContainer "+this.toString());if(this._bRenderingInProgress){setTimeout(this.invalidate.bind(this),0)}return this}var m;if(!(m=f.getDomRef())||m.parentNode!=this.getDomRef()||i.isPreservedContent(m)){f.addStyleClass("sapMNavItemRendering");s.debug("Rendering 'to' page '"+f.toString()+"' for 'to' navigation");var y=sap.ui.getCore().createRenderManager();y.render(f,this.getDomRef());y.destroy();f.addStyleClass("sapMNavItemHidden").removeStyleClass("sapMNavItemRendering")}var C=o.transitions[n]||o.transitions["slide"];var b=this._iTransitionsCompleted;var I=this;window.setTimeout(function(){if(I&&I._iTransitionsCompleted<b+1){s.warning("Transition '"+n+"' 'to' was triggered five seconds ago, but has not yet invoked the end-of-transition callback.")}},d(5e3));this._bNavigating=true;var S=r.safeBackToPage||l.safeBackToPage?"back":"to";this._cacheTransitionInfo(n,S);C[S].call(this,u,f,jQuery.proxy(function(){this._afterTransitionCallback(h,r)},this),l)}else{s.info("Navigation to page with ID '"+a+"' has been aborted by the application")}}else{s.warning("Navigation triggered to page with ID '"+a+"', but this page is not known/aggregated by "+this)}return this};o.prototype.back=function(e,t){this._backTo("back",e,t);return this};o.prototype.backToPage=function(e,t,i){this._backTo("backToPage",t,i,e);return this};o.prototype.backToTop=function(e,t){this._backTo("backToTop",e,t);return this};o.prototype._backTo=function(a,n,r,l){if(this._bNavigating){s.warning(this.toString()+": Cannot navigate back because another navigation is already in progress. - navigation will be executed after the previous one");this._aQueue.push(jQuery.proxy(function(){this._backTo(a,n,r,l)},this));return this}if(this._pageStack.length<=1){if(this._pageStack.length===1&&!this._pageStack[0].isInitial){throw new Error("Initial page not found on the stack. How did this happen?")}this._aQueue=[];return this}else{if(l instanceof t){l=l.getId()}var p=this._pageStack[this._pageStack.length-1];var g=p.transition;var u=this.getPage(p.id);var f;var h;if(a==="backToTop"){f=this._getActualInitialPage();h=null}else if(a==="backToPage"){var c=this._findClosestPreviousPageInfo(l);if(!c){s.error(this.toString()+": Cannot navigate backToPage('"+l+"') because target page was not found among the previous pages.");return this}f=sap.ui.getCore().byId(c.id);if(!f){s.error(this.toString()+": Cannot navigate backToPage('"+l+"') because target page does not exist anymore.");return this}h=c.data}else{f=this.getPreviousPage();h=this._pageStack[this._pageStack.length-2].data}if(!f){s.error("NavContainer back navigation: target page is not defined or not aggregated by this NavContainer. Aborting navigation.");return}var v=f.getId();n=n||{};r=r||{};var m={from:u,fromId:u.getId(),to:f,toId:v,firstTime:!this._mVisitedPages[v],isTo:false,isBack:a==="back",isBackToPage:a==="backToPage",isBackToTop:a==="backToTop",direction:a,bFocusInsideFromPage:this._isFocusInControl(u)};var y=this.fireNavigate(m);if(y){e.closeKeyboard();var C=jQuery.Event("BeforeHide",m);C.srcControl=this;u._handleEvent(C);if(!this._mVisitedPages[v]){C=jQuery.Event("BeforeFirstShow",m);C.srcControl=this;C.backData=n||{};C.data={};f._handleEvent(C)}C=jQuery.Event("BeforeShow",m);C.srcControl=this;C.backData=n||{};C.data=h||{};f._handleEvent(C);this._pageStack.pop();s.info(this.toString()+": navigating back to page "+f.toString());this._mVisitedPages[v]=true;if(a==="backToTop"){this._pageStack=[];s.info(this.toString()+": navigating back to top");this.getCurrentPage()}else if(a==="backToPage"){var b=[],I;while(this._pageStack[this._pageStack.length-1].id!==l){I=this._pageStack.pop();b.push(I.id)}s.info(this.toString()+": navigating back to specific page "+f.toString()+" across the pages: "+b.join(", "))}if(!this.getDomRef()){s.info("'Hidden' back navigation in not-rendered NavContainer "+this.toString());this._afterNavigation(m,h,n);return this}var S=o.transitions[g]||o.transitions["slide"];var _=this._iTransitionsCompleted;var T=this;window.setTimeout(function(){if(T&&T._iTransitionsCompleted<_+1){s.warning("Transition '"+g+"' 'back' was triggered five seconds ago, but has not yet invoked the end-of-transition callback.")}},d(5e3));this._bNavigating=true;var k;if(!(k=f.getDomRef())||k.parentNode!=this.getDomRef()||i.isPreservedContent(k)){f.addStyleClass("sapMNavItemRendering");s.debug("Rendering 'to' page '"+f.toString()+"' for back navigation");var N=sap.ui.getCore().createRenderManager();var P=this.$().children().index(u.getDomRef());N.renderControl(f);N.flush(this.getDomRef(),false,P);N.destroy();f.addStyleClass("sapMNavItemHidden").removeStyleClass("sapMNavItemRendering")}if(u.getId()===f.getId()){s.info("Transition is skipped when navigating back to the same page instance"+f.toString());this._afterTransitionCallback(m,h,n);return this}this._cacheTransitionInfo(g,o.TransitionDirection.BACK);S.back.call(this,u,f,jQuery.proxy(function(){this._afterTransitionCallback(m,h,n)},this),r)}}return this};o.prototype._findClosestPreviousPageInfo=function(e){for(var t=this._pageStack.length-2;t>=0;t--){var i=this._pageStack[t];if(i.id===e){return i}}return null};o.prototype._cacheTransitionInfo=function(e,t){this._sTransitionName=e;this._sTransitionDirection=t};o.prototype._fadeTransition=function(e,t,i){this.oFromPage=e;this.oToPage=t;this.fCallback=i;this._fadeOutAnimation()};o.prototype._fadeOutAnimation=function(){var e=this,t=this.oFromPage,i=this.oToPage;i.addStyleClass("sapMNavItemTransparent");if(this._sTransitionName==="slide"){if(this._sTransitionDirection===o.TransitionDirection.TO){i.addStyleClass("sapMNavItemSlideLeft");t.addStyleClass("sapMNavItemSlideRight")}else{i.addStyleClass("sapMNavItemSlideRight");t.addStyleClass("sapMNavItemSlideLeft")}}i.removeStyleClass("sapMNavItemHidden");t.addStyleClass("sapMNavItemOpaque");window.setTimeout(function(){t.$().on("webkitTransitionEnd transitionend",e._fadeOutAnimationEnd.bind(e));e.bTransition1EndPending=true;t.addStyleClass("sapMNavItemFading").removeStyleClass("sapMNavItemOpaque").addStyleClass("sapMNavItemTransparent");window.setTimeout(function(){if(e.bTransition1EndPending){e._fadeOutAnimationEnd()}},d(150))},d(10))};o.prototype._fadeOutAnimationEnd=function(e){var t=this.oFromPage;if(e&&e.originalEvent&&e.originalEvent.propertyName!=="opacity"){return}this.bTransition1EndPending=false;jQuery(t.$()).off("webkitTransitionEnd transitionend");t.removeStyleClass("sapMNavItemSlideLeft").removeStyleClass("sapMNavItemSlideRight");this._fadeInAnimation()};o.prototype._fadeInAnimation=function(){var e=this,t=this.oToPage;window.setTimeout(function(){t.$().on("webkitTransitionEnd transitionend",e._fadeInAnimationEnd.bind(e));e.bTransition2EndPending=true;t.addStyleClass("sapMNavItemFading").removeStyleClass("sapMNavItemTransparent").addStyleClass("sapMNavItemOpaque");window.setTimeout(function(){if(e.bTransition2EndPending){e._fadeInAnimationEnd()}},d(150))},d(10))};o.prototype._fadeInAnimationEnd=function(e){var t=this.oToPage,i=this.oFromPage;if(e&&e.originalEvent&&e.originalEvent.propertyName!=="opacity"){return}this.bTransition2EndPending=false;if(p(i)){i.addStyleClass("sapMNavItemHidden");i.removeStyleClass("sapMNavItemFading").removeStyleClass("sapMNavItemTransparent")}jQuery(t.$()).off("webkitTransitionEnd transitionend");if(p(t)){t.removeStyleClass("sapMNavItemFading").removeStyleClass("sapMNavItemOpaque").removeStyleClass("sapMNavItemSlideLeft").removeStyleClass("sapMNavItemSlideRight")}this.fCallback()};o.prototype._baseSlideAnimation=function(e,t,i){var a=false,n=true,s=this._sTransitionDirection===o.TransitionDirection.BACK,r=s?"reverse":"normal",l=s?"sapMNavItemSlideCenterToLeft":"sapMNavItemSlideRightToCenter",u=!s?"sapMNavItemSlideCenterToLeft":"sapMNavItemSlideRightToCenter",f=function(){jQuery(this).off("webkitAnimationEnd animationend");if(!a){return a=true}n=false;g(t,"");g(e,"");if(p(t)){t.removeStyleClass(l)}if(p(e)){e.removeStyleClass(u).addStyleClass("sapMNavItemHidden")}i()};e.$().on("webkitAnimationEnd animationend",f);t.$().on("webkitAnimationEnd animationend",f);g(t,r);g(e,r);e.addStyleClass(u);t.addStyleClass(l).removeStyleClass("sapMNavItemHidden");window.setTimeout(function(){if(n){a=true;f.apply(e.$().add(t.$()))}},d(400))};o.transitions=o.transitions||{};o.transitions["show"]={to:function(e,t,i){t.removeStyleClass("sapMNavItemHidden");e&&e.addStyleClass("sapMNavItemHidden");i()},back:function(e,t,i){t.removeStyleClass("sapMNavItemHidden");e&&e.addStyleClass("sapMNavItemHidden");i()}};o.transitions["baseSlide"]={to:o.prototype._baseSlideAnimation,back:o.prototype._baseSlideAnimation};o.transitions["slide"]={to:o.prototype._fadeTransition,back:o.prototype._fadeTransition};o.transitions["fade"]={to:o.prototype._fadeTransition,back:o.prototype._fadeTransition};o.transitions["flip"]={to:function(e,t,i){var a=this;window.setTimeout(function(){a.$().addClass("sapMNavFlip");t.addStyleClass("sapMNavItemFlipNext");t.removeStyleClass("sapMNavItemHidden");window.setTimeout(function(){var n=false;var s=true;var o=null;o=function(){jQuery(this).off("webkitTransitionEnd transitionend");if(!n){n=true}else{s=false;if(p(t)){t.removeStyleClass("sapMNavItemFlipping")}if(p(e)){e.removeStyleClass("sapMNavItemFlipping").addStyleClass("sapMNavItemHidden").removeStyleClass("sapMNavItemFlipPrevious")}a.$().removeClass("sapMNavFlip");i()}};e.$().on("webkitTransitionEnd transitionend",o);t.$().on("webkitTransitionEnd transitionend",o);t.addStyleClass("sapMNavItemFlipping").removeStyleClass("sapMNavItemFlipNext");e.addStyleClass("sapMNavItemFlipping").addStyleClass("sapMNavItemFlipPrevious");window.setTimeout(function(){if(s){n=true;o.apply(e.$().add(t.$()))}},d(600))},d(60))},0)},back:function(e,t,i){var a=this;a.$().addClass("sapMNavFlip");t.addStyleClass("sapMNavItemFlipPrevious");t.removeStyleClass("sapMNavItemHidden");window.setTimeout(function(){var n=false;var s=true;var o=null;o=function(){jQuery(this).off("webkitTransitionEnd transitionend");if(!n){n=true}else{s=false;if(p(t)){t.removeStyleClass("sapMNavItemFlipping")}if(p(e)){e.removeStyleClass("sapMNavItemFlipping").addStyleClass("sapMNavItemHidden").removeStyleClass("sapMNavItemFlipNext")}a.$().removeClass("sapMNavFlip");i()}};e.$().on("webkitTransitionEnd transitionend",o);t.$().on("webkitTransitionEnd transitionend",o);t.addStyleClass("sapMNavItemFlipping").removeStyleClass("sapMNavItemFlipPrevious");e.addStyleClass("sapMNavItemFlipping").addStyleClass("sapMNavItemFlipNext");window.setTimeout(function(){if(s){n=true;o.apply(e.$().add(t.$()))}},d(600))},d(60))}};o.transitions["door"]={to:function(e,t,i){var a=this;window.setTimeout(function(){a.$().addClass("sapMNavDoor");t.addStyleClass("sapMNavItemDoorInNext");t.removeStyleClass("sapMNavItemHidden");window.setTimeout(function(){var n=false;var s=true;var o=null;o=function(){jQuery(this).off("webkitAnimationEnd animationend");if(!n){n=true}else{s=false;if(p(t)){t.removeStyleClass("sapMNavItemDooring").removeStyleClass("sapMNavItemDoorInNext")}if(p(e)){e.removeStyleClass("sapMNavItemDooring").addStyleClass("sapMNavItemHidden").removeStyleClass("sapMNavItemDoorInPrevious")}a.$().removeClass("sapMNavDoor");i()}};e.$().on("webkitAnimationEnd animationend",o);t.$().on("webkitAnimationEnd animationend",o);t.addStyleClass("sapMNavItemDooring");e.addStyleClass("sapMNavItemDooring").addStyleClass("sapMNavItemDoorInPrevious");window.setTimeout(function(){if(s){n=true;o.apply(e.$().add(t.$()))}},d(1e3))},d(60))},0)},back:function(e,t,i){var a=this;a.$().addClass("sapMNavDoor");t.addStyleClass("sapMNavItemDoorOutNext");t.removeStyleClass("sapMNavItemHidden");window.setTimeout(function(){var n=false;var s=true;var o=null;o=function(){jQuery(this).off("webkitAnimationEnd animationend");if(!n){n=true}else{s=false;if(p(t)){t.removeStyleClass("sapMNavItemDooring").removeStyleClass("sapMNavItemDoorOutNext")}if(p(e)){e.removeStyleClass("sapMNavItemDooring").addStyleClass("sapMNavItemHidden").removeStyleClass("sapMNavItemDoorOutPrevious")}a.$().removeClass("sapMNavDoor");i()}};e.$().on("webkitAnimationEnd animationend",o);t.$().on("webkitAnimationEnd animationend",o);t.addStyleClass("sapMNavItemDooring");e.addStyleClass("sapMNavItemDooring").addStyleClass("sapMNavItemDoorOutPrevious");window.setTimeout(function(){if(s){n=true;o.apply(e.$().add(t.$()))}},d(1e3))},d(60))}};o.prototype.addCustomTransition=function(e,t,i){if(o.transitions[e]){s.warning("Transition with name "+e+" already exists in "+this+". It is now being replaced by custom transition.")}o.transitions[e]={to:t,back:i};return this};o.addCustomTransition=o.prototype.addCustomTransition;o.prototype.invalidate=function(e){if(e==this){}else if(e instanceof t){var i=false,a=this.getPages(),n=a.length;for(var s=0;s<n;s++){if(a[s]===e){i=true;break}}if((!i||e===this.getCurrentPage())&&!this._isInsideAPopup()){t.prototype.invalidate.call(this,e)}}else{t.prototype.invalidate.call(this,e)}};o.prototype._isInsideAPopup=function(){var e;e=function(t){if(!t){return false}if(t.getMetadata().isInstanceOf("sap.ui.core.PopupInterface")){return true}return e(t.getParent())};return e(this)};o.prototype.removePage=function(e){var t;if(typeof e=="number"){t=this.getPages()[e]}else if(typeof e=="string"){t=sap.ui.getCore().byId(e)}else{t=e}t=this.removeAggregation("pages",t,t!==this.getCurrentPage());this._onPageRemoved(t);return t};o.prototype._onPageRemoved=function(e){if(!e){return}e.$().remove();e.removeStyleClass("sapMNavItemHidden");e.removeStyleClass("sapMNavItem");var t=this._ensurePageStackInitialized();this._pageStack=t.filter(function(t){return e.getId()!==t.id})};o.prototype.removeAllPages=function(){var e=this.removeAllAggregation("pages");for(var t=0;t<e.length;t++){this._onPageRemoved(e[t])}return e};o.prototype.addPage=function(e){var t=this.getPages();if(t.indexOf(e)>-1){return this}this.addAggregation("pages",e,true);e.addStyleClass("sapMNavItem");var i=t.length;if(i===0&&this.getPages().length===1){this._fireAdaptableContentChange(e);if(this.getDomRef()){this._ensurePageStackInitialized();this.rerender()}}return this};o.prototype.insertPage=function(e,t){var i=this.getPages().length;this.insertAggregation("pages",e,t,true);e.addStyleClass("sapMNavItem");if(i===0&&this.getPages().length===1){this._fireAdaptableContentChange(e);if(this.getDomRef()){this._ensurePageStackInitialized();this.rerender()}}return this};o.prototype.showPlaceholder=function(e){if(this._placeholder){this.hidePlaceholder()}this._placeholder=e.placeholder;if(this.getDomRef()){this._placeholder.show(this)}else{this.addEventDelegate(r,this)}};o.prototype.hidePlaceholder=function(){if(this._placeholder){this._placeholder.hide();this.removeEventDelegate(r);this._placeholder=undefined}};o.prototype.needPlaceholder=function(e,t){return this.getCurrentPage()!==t};o.prototype._getAdaptableContent=function(){return this.getCurrentPage()};o.prototype._fireAdaptableContentChange=function(e){if(e&&this.mEventRegistry["_adaptableContentChange"]){this.fireEvent("_adaptableContentChange",{parent:this,adaptableContent:e})}};return o});
//# sourceMappingURL=NavContainer.js.map