/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/IntervalTrigger","sap/ui/thirdparty/jquery","sap/ui/base/EventProvider","sap/ui/Device"],function(t,jQuery,i,e){"use strict";var n=i.extend("sap.m._Ios7",{constructor:function(){var t=e.os.ios&&e.os.version>=7&&e.os.version<8&&e.browser.name==="sf";i.apply(this);if(!t){return}this._bIntervallAttached=false;this._bInputIsOpen=false;this._bNavigationBarEventFired=false;var n=window.orientation===90||window.orientation===-90;if(n){this._attachNavigationBarPolling()}e.orientation.attachHandler(this._onOrientationChange,this);this._onFocusin=jQuery.proxy(this._onFocusin,this);document.addEventListener("focusin",this._onFocusin,true);this._onFocusout=jQuery.proxy(this._onFocusout,this);document.addEventListener("focusout",this._onFocusout,true)}});n.prototype.getNavigationBarHeight=function(){if(!this._bNavigationBarEventFired){return 0}return this._iNavigationBarHeight};n.prototype._attachNavigationBarPolling=function(){if(!e.system.phone||this._bIntervallAttached){return}t.addListener(this._detectNavigationBar,this);this._bIntervallAttached=true};n.prototype._detachNavigationBarPolling=function(){if(!e.system.phone||!this._bIntervallAttached){return}t.removeListener(this._detectNavigationBar,this);this._bIntervallAttached=false};n.prototype._detectNavigationBar=function(){var t=window.outerHeight-window.innerHeight;if(t===0||this._bInputIsOpen||this._bNavigationBarEventFired){this._iPreviousHeight=null;return}if(this._iPreviousHeight===window.innerHeight){window.scrollTo(0,0);var i=window.outerHeight-window.innerHeight;if(t!==i){return}this._iNavigationBarHeight=t;this._bNavigationBarEventFired=true;this.fireEvent("navigationBarShownInLandscape",{barHeight:t});this._detachNavigationBarPolling();this._iPreviousHeight=null}else{this._iPreviousHeight=window.innerHeight}};n.prototype.destroy=function(){i.prototype.destroy.apply(this,arguments);document.removeEventListener("focusin",this._onFocusin,true);document.removeEventListener("focusout",this._onFocusout,true)};n.prototype._onFocusin=function(t){var i=t.target.tagName;if(!n._rTagRegex.test(i)){return}this._inputTarget=t.target;this._detachNavigationBarPolling();this._bInputIsOpen=true;this.fireEvent("inputOpened")};n._rTagRegex=/INPUT|TEXTAREA|SELECT/;n.prototype._onFocusout=function(t){var i=t.srcElement.tagName,e=t.relatedTarget,o=e&&e.getAttribute("readonly")===null&&e.getAttribute("disabled")===null?e.tagName:"";if(n._rTagRegex.test(i)&&!n._rTagRegex.test(o)){window.scrollTo(0,0);if(window.orientation===90||window.orientation===-90){this._attachNavigationBarPolling()}this._bInputIsOpen=false;this.fireEvent("inputClosed")}};n.prototype._onOrientationChange=function(t){var i=t.landscape;window.scrollTo(0,0);this._bNavigationBarEventFired=false;if(this._bInputIsOpen&&this._inputTarget&&this._inputTarget.blur){this._inputTarget.blur()}else if(i){this._attachNavigationBarPolling()}else if(!i){this._detachNavigationBarPolling()}};var o=new n;return o},true);
//# sourceMappingURL=ios7.js.map