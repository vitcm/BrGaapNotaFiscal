/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/changeHandler/Base","sap/ui/core/util/reflection/JsControlTreeModifier","sap/base/Log","sap/ui/thirdparty/jquery"],function(e,t,r,jQuery){"use strict";var o={};o.applyChange=function(t,o,n){var a=n.modifier,i=n.appComponent,p=n.view,l=t.getDefinition(),c,u;if(l.texts&&l.texts.groupLabel&&l.texts.groupLabel.value&&l.content&&l.content.group&&(l.content.group.selector||l.content.group.id)){var s=l.texts.groupLabel.value,g=l.content.group.index,f=l.content.group.selector||{id:l.content.group.id},d=jQuery.extend({},f);d.id=d.id+"--title";t.setRevertData({newGroupSelector:f});if(a.bySelector(d,i)){return e.markAsNotApplicable("Control to be created already exists:"+d)}else if(a.bySelector(f,i)){return e.markAsNotApplicable("Control to be created already exists:"+f)}c=a.createControl("sap.ui.core.Title",i,p,d);u=a.createControl("sap.ui.layout.form.FormContainer",i,p,f);a.setProperty(c,"text",s);a.insertAggregation(u,"title",c,0,p);a.insertAggregation(o,"formContainers",u,g,p)}else{r.error("Change does not contain sufficient information to be applied: ["+l.layer+"]"+l.namespace+"/"+l.fileName+"."+l.fileType)}};o.completeChangeContent=function(r,o,n){var a=r.getDefinition(),i=n.appComponent;if(o.newLabel){e.setTextInChange(a,"groupLabel",o.newLabel,"XFLD")}else{throw new Error("Cannot create a new group: oSpecificChangeInfo.groupLabel attribute required")}if(!a.content){a.content={}}if(!a.content.group){a.content.group={}}if(o.index===undefined){throw new Error("Cannot create a new group: oSpecificChangeInfo.index attribute required")}else{a.content.group.index=o.index}if(o.newControlId){a.content.group.selector=t.getSelector(o.newControlId,i)}else{throw new Error("Cannot create a new group: oSpecificChangeInfo.newControlId attribute required")}};o.revertChange=function(e,t,r){var o=r.appComponent;var n=r.view;var a=r.modifier;var i=e.getRevertData().newGroupSelector;var p=a.bySelector(i,o,n);a.removeAggregation(t,"formContainers",p);a.destroy(p);e.resetRevertData()};return o},true);
//# sourceMappingURL=AddFormContainer.js.map