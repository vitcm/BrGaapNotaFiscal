/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Renderer","sap/ui/core/Core","./library","./ListBaseRenderer","./ColumnListItemRenderer"],function(e,t,a,s,l){"use strict";var r=a.ListKeyboardMode;var i=e.extend(s);i.apiVersion=2;var o=t.getConfiguration().getRTL();i.columnAlign={left:o?"flex-end":"flex-start",center:"center",right:o?"flex-start":"flex-end"};i.renderColumns=function(e,t,a){var l=0,r=0,o=false,n=false,d=t.getMode(),c=s.ModeOrder[d],u="sapMListTbl",p=t.getId("tbl"),g=a=="Head"?"th":"td",f="t"+a.toLowerCase(),C=t.getColumns(),b=t.shouldRenderDummyColumn(),h,m=function(t,s,r){e.openStart(g,s&&p+s);if(g==="th"){e.class("sapMTableTH");e.attr("role",r?"presentation":"columnheader");e.attr("scope","col")}else if(r){e.attr("role","presentation")}r&&e.attr("aria-hidden","true");e.class(u+t);if(a==="Foot"){if(t==="HighlightCol"){e.class("sapMTableHighlightFooterCell")}else if(t==="NavigatedCol"){e.class("sapMTableNavigatedFooterCell")}}e.openEnd();e.close(g);l++};if(a=="Head"){var L=C.filter(function(e){return e.getVisible()});var T=C.reduce(function(e,t,a){t.setIndex(-1);t.setInitialOrder(a);t.setForcedColumn(false);return t.getVisible()&&t.getCalculatedMinScreenWidth()<e.getCalculatedMinScreenWidth()?t:e},L[0]);var M=C.filter(function(e){return e.getVisible()&&!e.isPopin()&&!e.isHidden()}).length;if(!M&&T){T.setForcedColumn(true);M=1}h=C.every(function(e){return!e.getHeader()||!e.getHeader().getVisible()||!e.getVisible()||e.isPopin()||e.isHidden()})}e.openStart(f);if(t._hasFooter&&a==="Foot"){e.class("sapMTableTFoot");if(t.hasPopin()){e.class("sapMListTblHasPopin")}}e.openEnd();e.openStart("tr",t.addNavSection(p+a+"er"));e.attr("tabindex",-1);if(h){e.class("sapMListTblHeaderNone")}else{e.class("sapMListTblRow").class("sapMListTbl"+a+"er");e.class("sapMLIBFocusable").class("sapMTableRowCustomFocus")}e.openEnd();m("HighlightCol",a+"Highlight",true);if(c==-1){if(d=="MultiSelect"&&a=="Head"&&!h){e.openStart("th");e.class("sapMTableTH");e.attr("scope","col");e.attr("aria-hidden","true");e.class(u+"SelCol");e.attr("role","presentation");e.openEnd();e.renderControl(t._getSelectAllCheckbox());e.close("th");l++}else{m("SelCol","",true)}}t.getColumns(true).forEach(function(s,d){if(!s.getVisible()){return}if(s.isPopin()){o=true;return}var c=s.isHidden();if(c){r++}var p=s["get"+a+"er"](),f=t.getFixedLayout(),C=M==1&&f!="Strict"?"":s.getWidth(),b=s.getStyleClass(true).split(" "),h=s.getCssAlign();t._bCheckLastColumnWidth=f=="Strict"&&M==1;if(a=="Head"){e.openStart(g,s);e.class("sapMTableTH");e.attr("role","columnheader");e.attr("scope","col");var m=s.getSortIndicator().toLowerCase();m!=="none"&&e.attr("aria-sort",m)}else{e.openStart(g)}b&&b.forEach(function(t){e.class(t)});e.class(u+"Cell");e.class(u+a+"erCell");e.attr("data-sap-ui-column",s.getId());e.attr("data-sap-width",s.getWidth());e.style("width",C);if(h&&a!=="Head"){e.style("text-align",h)}if(c){e.style("display","none");e.attr("aria-hidden","true")}e.openEnd();if(p){if(a==="Head"){e.openStart("div");e.class("sapMColumnHeader");if(t.bActiveHeaders&&!p.isA("sap.ui.core.InvisibleText")){e.attr("tabindex",0);e.attr("role","button");e.attr("aria-haspopup","dialog");e.class("sapMColumnHeaderActive")}else if(t.bFocusableHeaders){e.attr("tabindex",0);e.class("sapMColumnHeaderFocusable")}if(h){e.style("justify-content",i.columnAlign[h]);e.style("text-align",h)}e.openEnd();e.renderControl(p.addStyleClass("sapMColumnHeaderContent"));e.close("div")}else{e.renderControl(p)}}if(a=="Head"&&!n){n=!!s.getFooter()}e.close(g);s.setIndex(l++)});if(o&&b){m("DummyCell",a+"DummyCell",true)}m("NavCol",a+"Nav",true);if(c==1){m("SelCol","",true)}m("NavigatedCol",a+"Navigated",true);if(!o&&b){m("DummyCell",a+"DummyCell",true)}e.close("tr");e.close(f);if(a==="Head"){t._hasPopin=o;t._colCount=l-r;t._hasFooter=n;t._headerHidden=h}};i.renderContainerAttributes=function(e,a){e.attr("role","application").attr("data-sap-ui-pasteregion","true");e.attr("aria-roledescription",t.getLibraryResourceBundle("sap.m").getText("TABLE_CONTAINER_ROLE_DESCRIPTION"));e.class("sapMListTblCnt");e.accessibilityState(a,this.getAccessibilityState(a))};i.renderListStartAttributes=function(e,a){e.openStart("table",a.getId("listUl"));e.class("sapMListTbl");e.attr("aria-labelledby",t.getLibraryResourceBundle("sap.m").getText("TABLE_ARIA_LABEL"));if(a.getFixedLayout()===false){e.style("table-layout","auto")}if(a._iItemNeedsColumn){e.class("sapMListTblHasNav")}};i.getAriaRole=function(e){return""};i.renderListHeadAttributes=function(e,t){this.renderColumns(e,t,"Head");e.openStart("tbody",t.addNavSection(t.getId("tblBody")));e.class("sapMListItems");e.class("sapMTableTBody");if(t.getAlternateRowColors()){e.class(t._getAlternateRowColorsClass())}if(t.hasPopin()){e.class("sapMListTblHasPopin")}e.openEnd()};i.renderListEndAttributes=function(e,t){e.close("tbody");t._hasFooter&&this.renderColumns(e,t,"Foot");e.close("table")};i.renderNoData=function(e,a){e.openStart("tr",a.getId("nodata"));e.attr("tabindex",a.getKeyboardMode()==r.Navigation?-1:0);e.class("sapMLIB").class("sapMListTblRow").class("sapMLIBTypeInactive");l.addFocusableClasses(e,a);if(!a._headerHidden||!a.getHeaderText()&&!a.getHeaderToolbar()){e.class("sapMLIBShowSeparator")}e.openEnd();var s=!a.hasPopin()&&a.shouldRenderDummyColumn();e.openStart("td",a.getId("nodata-text"));e.attr("colspan",a.getColCount()-s);e.class("sapMListTblCell").class("sapMListTblCellNoData");e.openEnd();if(!a.shouldRenderItems()){e.text(t.getLibraryResourceBundle("sap.m").getText("TABLE_NO_COLUMNS"))}else{e.text(a.getNoDataText(true))}e.close("td");if(s){l.renderDummyCell(e,a)}e.close("tr")};return i},true);
//# sourceMappingURL=TableRenderer.js.map