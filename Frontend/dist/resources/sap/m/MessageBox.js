/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./Button","./Dialog","./Text","./FormattedText","./Link","./VBox","sap/ui/core/IconPool","sap/ui/core/ElementMetadata","sap/ui/core/library","sap/ui/core/Control","sap/m/library","sap/ui/thirdparty/jquery"],function(e,t,i,n,o,s,a,l,r,c,u,jQuery){"use strict";var d=u.DialogType;var f=u.DialogRoleType;var O=r.TextDirection;var g=u.ButtonType;var p=u.TitleAlignment;var T={};T.Action={OK:"OK",CANCEL:"CANCEL",YES:"YES",NO:"NO",ABORT:"ABORT",RETRY:"RETRY",IGNORE:"IGNORE",CLOSE:"CLOSE",DELETE:"DELETE"};T.Icon={NONE:undefined,INFORMATION:"INFORMATION",WARNING:"WARNING",ERROR:"ERROR",SUCCESS:"SUCCESS",QUESTION:"QUESTION"};(function(){var r=T.Action,u=T.Icon;var I=function(){if(T._rb!==sap.ui.getCore().getLibraryResourceBundle("sap.m")){T._rb=sap.ui.getCore().getLibraryResourceBundle("sap.m")}};T.show=function(S,C){var R,E,N,x=null,A=[],y,h,M,m,B,L,_,b={id:l.uid("mbox"),initialFocus:null,textDirection:O.Inherit,verticalScrolling:true,horizontalScrolling:true,details:"",contentWidth:null},v={INFORMATION:"sapMMessageBoxInfo",WARNING:"sapMMessageBoxWarning",ERROR:"sapMMessageBoxError",SUCCESS:"sapMMessageBoxSuccess",QUESTION:"sapMMessageBoxQuestion",STANDARD:"sapMMessageBoxStandard"},F={INFORMATION:a.getIconURI("information"),WARNING:a.getIconURI("alert"),ERROR:a.getIconURI("error"),SUCCESS:a.getIconURI("sys-enter-2"),QUESTION:a.getIconURI("sys-help-2")};I();if(typeof C==="string"||arguments.length>2){h=arguments[1];M=arguments[2];m=arguments[3];B=arguments[4];L=arguments[5];_=arguments[6];C={icon:h,title:M,actions:m,onClose:B,id:L,styleClass:_}}if(C&&C.hasOwnProperty("details")){b.icon=u.INFORMATION;b.emphasizedAction=r.OK;b.actions=[r.OK,r.CANCEL];C=jQuery.extend({},b,C)}C=jQuery.extend({},b,C);if(typeof C.actions!=="undefined"&&!Array.isArray(C.actions)){if(C.emphasizedAction!==null){C.emphasizedAction=C.actions}C.actions=[C.actions]}if(!C.actions||C.actions.length===0){C.emphasizedAction=r.OK;C.actions=[r.OK]}function w(t,i){var n;if(T.Action.hasOwnProperty(t)){n=T._rb.getText("MSGBOX_"+t)}var o=new e({id:l.uid("mbox-btn-"),text:n||t,type:i,press:function(){x=t;R.close()}});return o}var G;for(y=0;y<C.actions.length;y++){G=C.emphasizedAction===C.actions[y]?g.Emphasized:g.Default;A.push(w(C.actions[y],G))}function K(e,t){var i,a,l=new s({items:[t]});if(!e.details){return l}if(typeof e.details=="object"){e.details="<pre>"+JSON.stringify(e.details,null,"\t").replace(/{/gi,"\\{")+"</pre>"}i=(new n).setVisible(false).setHtmlText(e.details);a=new o({text:T._rb.getText("MSGBOX_LINK_TITLE"),press:function(){var e=R.getInitialFocus();R.addAriaLabelledBy(i);i.setVisible(true);a.setVisible(false);R._setInitialFocus();if(!e||e===a.getId()){A[0].focus()}}});a.addStyleClass("sapMMessageBoxLinkText");i.addStyleClass("sapMMessageBoxDetails");l.addItem(a);l.addItem(i);return l}function D(){if(typeof C.onClose==="function"){C.onClose(x)}R.detachAfterClose(D);R.destroy()}function U(){var e=0;var t=null;if(C.initialFocus){if(C.initialFocus instanceof c){t=C.initialFocus}if(typeof C.initialFocus==="string"){for(e=0;e<A.length;e++){if(T.Action.hasOwnProperty(C.initialFocus)){if(T._rb.getText("MSGBOX_"+C.initialFocus).toLowerCase()===A[e].getText().toLowerCase()){t=A[e];break}}else{if(C.initialFocus.toLowerCase()===A[e].getText().toLowerCase()){t=A[e];break}}}}}return t}if(typeof S==="string"){N=new i({textDirection:C.textDirection}).setText(S).addStyleClass("sapMMsgBoxText");E=N}else if(S instanceof c){N=S.addStyleClass("sapMMsgBoxText")}if(C&&C.hasOwnProperty("details")&&C.details!==""){N=K(C,N)}R=new t({id:C.id,type:d.Message,title:C.title,titleAlignment:p.Auto,content:N,icon:F[C.icon],initialFocus:U(),verticalScrolling:C.verticalScrolling,horizontalScrolling:C.horizontalScrolling,afterClose:D,buttons:A,ariaLabelledBy:E?E.getId():undefined,contentWidth:C.contentWidth,closeOnNavigation:C.closeOnNavigation}).addStyleClass("sapMMessageBox");R.setProperty("role",f.AlertDialog);if(v[C.icon]){R.addStyleClass(v[C.icon])}else{R.addStyleClass(v.STANDARD)}if(C.styleClass){R.addStyleClass(C.styleClass)}R.open()};T.alert=function(e,t){I();var i={icon:u.NONE,title:T._rb.getText("MSGBOX_TITLE_ALERT"),emphasizedAction:t&&t.actions?null:r.OK,actions:r.OK,id:l.uid("alert"),initialFocus:null},n,o,s,a;if(typeof t==="function"||arguments.length>2){n=arguments[1];o=arguments[2];s=arguments[3];a=arguments[4];t={onClose:n,title:o,id:s,styleClass:a}}t=jQuery.extend({},i,t);return T.show(e,t)};T.confirm=function(e,t){I();var i={icon:u.QUESTION,title:T._rb.getText("MSGBOX_TITLE_CONFIRM"),emphasizedAction:t&&t.actions?null:r.OK,actions:[r.OK,r.CANCEL],id:l.uid("confirm"),initialFocus:null},n,o,s,a;if(typeof t==="function"||arguments.length>2){n=arguments[1];o=arguments[2];s=arguments[3];a=arguments[4];t={onClose:n,title:o,id:s,styleClass:a}}t=jQuery.extend({},i,t);return T.show(e,t)};T.error=function(e,t){I();var i={icon:u.ERROR,title:T._rb.getText("MSGBOX_TITLE_ERROR"),emphasizedAction:null,actions:r.CLOSE,id:l.uid("error"),initialFocus:null};t=jQuery.extend({},i,t);return T.show(e,t)};T.information=function(e,t){I();var i={icon:u.INFORMATION,title:T._rb.getText("MSGBOX_TITLE_INFO"),emphasizedAction:t&&t.actions?null:r.OK,actions:r.OK,id:l.uid("info"),initialFocus:null};t=jQuery.extend({},i,t);return T.show(e,t)};T.warning=function(e,t){I();var i={icon:u.WARNING,title:T._rb.getText("MSGBOX_TITLE_WARNING"),emphasizedAction:t&&t.actions?null:r.OK,actions:r.OK,id:l.uid("warning"),initialFocus:null};t=jQuery.extend({},i,t);return T.show(e,t)};T.success=function(e,t){I();var i={icon:u.SUCCESS,title:T._rb.getText("MSGBOX_TITLE_SUCCESS"),emphasizedAction:t&&t.actions?null:r.OK,actions:r.OK,id:l.uid("success"),initialFocus:null};t=jQuery.extend({},i,t);return T.show(e,t)}})();return T},true);
//# sourceMappingURL=MessageBox.js.map